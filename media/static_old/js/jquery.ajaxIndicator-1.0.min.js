(function($){$.ajaxIndicator={version:"1.0"};$.ajaxIndicator=function(c){c=$.extend({className:".ajaxIndicator",animationSpeed:"fast",bindAjax:true,delay:false,loaderImage:"/img/ajax-loader.gif",offset_top:13,offset_left:10},c);var d=_getScroll();$(window).unbind("scroll").scroll(function(){d=_getScroll()});if(c.bindAjax){$(document).ajaxSend(function(){$.ajaxIndicator.show()});$(document).ajaxStop(function(){$.ajaxIndicator.hide()})}$.ajaxIndicator.show=function(a){if($(c.className).length)return false;var b=$("<div></div>").appendTo("body").hide();b.addClass(c.className.substr(1));b.append("<img src='"+c.loaderImage+"'/>");if($.browser.msie&&$.browser.version==6)b.addClass("ai_ie6");$(document).click(function(e){e=e?e:window.event;$(b).css({"left":e.clientX+c.offset_left+d["scrollLeft"],"top":e.clientY+c.offset_top+d["scrollTop"]})});b.fadeIn(c.animationSpeed);$(document).mousemove(function(e){e=e?e:window.event;$(b).css({"left":e.clientX+c.offset_left+d["scrollLeft"],"top":e.clientY+c.offset_top+d["scrollTop"]})});var a=(a)?a:c.delay;if(a){setTimeout(function(){$.ajaxIndicator.hide()},a)}};$.ajaxIndicator.hide=function(){$(c.className).fadeOut(c.animationSpeed,function(){$(this).remove()})};function _getScroll(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}};return this}})(jQuery);
